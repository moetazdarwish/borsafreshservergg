{% load widget_tweaks %}
<style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }
    /* Firefox */
    
    input[type=number] {
        -moz-appearance: textfield;
    }
</style>
<form class="mx-1 mx-md-4" method="post" action="{% url 'editProfile' %}"> {% csrf_token %}

    <div class="d-flex flex-row align-items-center mb-4">

        <i class="far fa-mobile-android-alt fa-lg me-3 fa-fw"></i>
        <div class="input-group mb-3 form-outline flex-fill mb-0">
            {% render_field form.phone class="form-control" type="number" id="phone" min="0" placeholder="Mobile Number - Required" required="" %}

        </div>
    </div>
    <div class="d-flex flex-row align-items-center mb-4">
        <i class="far fa-building fa-lg me-3 fa-fw"></i>

        <div class="form-outline flex-fill mb-0">
            {% render_field form.address class="form-control" rows="2" placeholder="Please Add Delivery Address - Required" required="" %}

        </div>
    </div>
    <div class="d-flex flex-row align-items-center mb-4">
        <i class="fas fa-mailbox fa-lg me-3 fa-fw"></i>

        <div class="form-outline flex-fill mb-0">
            {% render_field form.area class="form-control" type="text" placeholder="Area / District / Postal Code - Required" required="" %}

        </div>
    </div>
    <div class="d-flex flex-row align-items-center mb-4">
        <i class="far fa-map-marker-alt fa-lg me-3 fa-fw"></i>
        <div class="form-outline flex-fill mb-0">
            {% render_field form.city class="form-control" type="text" placeholder="Please Add City" %}

        </div>
    </div>
    <div class="d-flex flex-row align-items-center mb-4">
        <i class="fas fa-flag-alt fa-lg me-3 fa-fw "></i>

        <div class="form-outline flex-fill mb-0">
            {% render_field form.country class="form-control" type="text" placeholder="Please Add Country" %}

        </div>
    </div>

    <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
        <a class="btn btn-primary rounded-pill" href="{{ request.META.HTTP_REFERER }}" style="margin-right:10px;">BACK</a>
        <button type="submit" class="btn btn-primary rounded-pill">Update</button>
    </div>
</form>
<div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
    
</div>


<script>
    function getvalueCookie(name) {
        return (document.cookie.match('(^|;) *' + name + '=([^;]*)') || [])[2];
    }

    document.getElementById("id_city").value = data.city;
    document.getElementById("id_country").value = data.country;
    document.getElementById("phone").value = ("00" + data.call_code);

    var input = document.getElementById('phone');

    input.addEventListener("keydown", function() {
        var oldVal = this.value;
        var field = this;
        setTimeout(function() {
            if (field.value.indexOf("00" + data.call_code) !== 0) {
                field.value = oldVal;
            }
        }, 1);
    });
    getvalueCookie(data)
</script>